**Exercise 1 - Prepare the lab environment
Before you start the assignment, complete the following steps to set up the lab:**

Step 1: Download Kafka.

```wget https://archive.apache.org/dist/kafka/2.8.0/kafka_2.12-2.8.0.tgz```

Step 2: Extract Kafka.

`tar -xzf kafka_2.12-2.8.0.tgz`

Step 3: Start MySQL server.

`start_mysql`

Step 4: Connect to the mysql server, using the command below. Make sure you use the password given to you when the MySQL server starts. Please make a note or record of the password because you will need it later.

`mysql --host=127.0.0.1 --port=3306 --user=root --password=Mjk0NDQtcnNhbm5h`

Step 5: Create a database named tolldata.
At the ‘mysql>’ prompt, run the command below to create the database.


```create database tolldata;```

Step 6: Create a table named livetolldata with the schema to store the data generated by the traffic simulator.
Run the following command to create the table:

`use tolldata;`

`create table livetolldata(timestamp datetime,vehicle_id int,vehicle_type char(15),toll_plaza_id smallint);`

This is the table where you would store all the streamed data that comes from kafka. Each row is a record of when a vehicle has passed through a certain toll plaza along with its type and anonymized id.

Step 7: Disconnect from MySQL server.

`exit`

Step 8: Install the python module kafka-python using the pip command.

`python3 -m pip install kafka-python`

This python module will help you to communicate with kafka server. It can used to send and receive messages from kafka.

Step 9: Install the python module mysql-connector-python using the pip command.

`python3 -m pip install mysql-connector-python==8.0.31`

This python module will help you to interact with mysql server.

**Task 2.1 - Start Zookeeper
Start zookeeper server.**

`cd kafka_2.12-2.8.0`

`bin/zookeeper-server-start.sh config/zookeeper.properties`

When ZooKeeper starts you should see an output like this:

![Task 2 1](https://user-images.githubusercontent.com/121275064/230521280-95e0d682-61f9-4d0f-bf3d-c906e8e91f00.JPG)

**Task 2.2 - Start Kafka server
Start Kafka server**

`cd kafka_2.12-2.8.0`

`bin/kafka-server-start.sh config/server.properties`

You can be sure it has started when you see an output like this:

![Task 2 2](https://user-images.githubusercontent.com/121275064/230521627-3a981fe3-04e4-44b4-a15f-4a47936ff962.JPG)

**Task 2.3 - Create a topic named toll
Create a Kakfa topic named toll**

`bin/kafka-topics.sh --create --topic toll --bootstrap-server localhost:9092`

![Task 2 3](https://user-images.githubusercontent.com/121275064/230521730-3df27107-d35f-4f9c-bc28-0c2ac932d209.JPG)

**Task 2.4 - Download the Toll Traffic Simulator
Download the toll_traffic_generator.py from the url given below using ‘wget’.**

`wget https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0250EN-SkillsNetwork/labs/Final%20Assignment/toll_traffic_generator.py`

Open the code using the theia editor using the “Menu –> File –>Open” option.

![Task 2 4](https://user-images.githubusercontent.com/121275064/230521846-123d064e-88de-4c53-81aa-7c49d990c85b.JPG)

**Task 2.5 - Configure the Toll Traffic Simulator
Open the toll_traffic_generator.py and set the topic to toll.**

![Task 2 5](https://user-images.githubusercontent.com/121275064/230521857-c1f75f7a-6c6d-4142-9651-49257d96025c.JPG)

**Task 2.6 - Run the Toll Traffic Simulator
Run the toll_traffic_generator.py.**

`python3 toll_traffic_generator.py`

![Task 2 6](https://user-images.githubusercontent.com/121275064/230521866-7afa6847-eb3f-4e90-a6e6-16c8ce7f14a1.JPG)


**Task 2.7 - Configure streaming_data_reader.py
Download the streaming_data_reader.py from the url below using ‘wget’.**

`wget https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0250EN-SkillsNetwork/labs/Final%20Assignment/streaming_data_reader.py`

Open the streaming_data_reader.py and modify the following details so that the program can connect to your mysql server.

TOPIC

DATABASE

USERNAME

PASSWORD

![Task 2 7](https://user-images.githubusercontent.com/121275064/230521996-479be26e-e076-4d33-894c-64579170b307.JPG)


**Task 2.8 - Run streaming_data_reader.py
Run the streaming_data_reader.py**

`python3 streaming_data_reader.py`






















